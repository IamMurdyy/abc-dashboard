<!doctype html>
<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{% block title %}ABC Dashboard{% endblock %}</title>

    <link rel="stylesheet" href="/static/style.css" />

    <link rel="icon" type="image/x-icon" href="/static/favicon.ico" />
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32x32.png" />
    <link rel="apple-touch-icon" href="/static/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/static/android-chrome-192x192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/static/android-chrome-512x512.png" />
  </head>

  <body>
    <!-- ===== Topbar (globaal) ===== -->
    <header class="topbar">
      <div class="topbar-left">
        <div class="brand">ABC Dashboard</div>

        <!-- Shop switcher -->
        <div class="shop-switcher">
          <label class="sr-only" for="shop">Shop</label>
          <select
            id="shop"
            name="shop"
            onchange="if(this.value){ window.location.href = this.value; }"
          >
            {# Verwacht: shops = [{key:'abc-led', name:'ABC-LED', href:'/orders?shop=abc-led'}, ...] #}
            {% if shops %}
              {% for s in shops %}
                <option value="{{ s.href }}" {% if active_shop == s.key %}selected{% endif %}>
                  {{ s.name }}
                </option>
              {% endfor %}
            {% else %}
              <option value="/orders" selected>ABC-LED</option>
            {% endif %}
          </select>
        </div>

        <!-- Top tabs (globaal) -->
        <nav class="topnav" aria-label="Hoofdmenu">
          <a
            href="/orders{% if active_shop %}?shop={{ active_shop }}{% endif %}"
            class="{% if active_page == 'orders' %}active{% endif %}"
          >Orders</a>

          <!-- later -->
          <a href="#" class="disabled" title="Komt later">Products</a>
          <a href="#" class="disabled" title="Komt later">Tools</a>
        </nav>
      </div>

      <div class="topbar-right">
        {% block top_actions %}{% endblock %}
      </div>
    </header>

    <!-- ===== Dashboard layout: sidebar + content ===== -->
    <div class="layout">
      <aside class="sidebar">
        <nav class="nav" aria-label="Shop menu">
          {# Shop-specifieke links (nu vooral ABC-LED) #}
          <a
            href="/orders{% if active_shop %}?shop={{ active_shop }}{% endif %}"
            class="{% if active_page == 'orders' %}active{% endif %}"
          >Orders</a>

          <!-- later: shop-specifieke pagina's -->
          <a href="#" class="disabled" title="Komt later">Picklijsten</a>
          <a href="#" class="disabled" title="Komt later">Voorraad</a>
          <a href="#" class="disabled" title="Komt later">Rapporten</a>
          <a href="#" class="disabled" title="Komt later">Instellingen</a>
        </nav>
      </aside>

      <main class="container">
        {% block content %}{% endblock %}
      </main>
    </div>

  </body>
</html>
